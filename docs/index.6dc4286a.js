function radar_visualization(t){var r=42;function e(){var t=1e4*Math.sin(r++);return t-Math.floor(t)}function a(t,r){return t+.5*(e()+e())*(r-t)}const n=[{radial_min:0,radial_max:.5,factor_x:1,factor_y:1},{radial_min:.5,radial_max:1,factor_x:-1,factor_y:1},{radial_min:-1,radial_max:-.5,factor_x:-1,factor_y:-1},{radial_min:-.5,radial_max:0,factor_x:1,factor_y:-1}],i=[{radius:130},{radius:220},{radius:310},{radius:400}],o=-675,l=420,s=[{x:450,y:90},{x:-675,y:90},{x:-675,y:-310},{x:450,y:-310}];function d(t){var r=t.x,e=t.y;return{t:Math.atan2(e,r),r:Math.sqrt(r*r+e*e)}}function c(t){return{x:t.r*Math.cos(t.t),y:t.r*Math.sin(t.t)}}function u(t,r,e){var a=Math.min(r,e),n=Math.max(r,e);return Math.min(Math.max(t,a),n)}function f(t,r,e){return{t:t.t,r:u(t.r,r,e)}}function p(t,r,e){return{x:u(t.x,r.x,e.x),y:u(t.y,r.y,e.y)}}function y(t,r){var o={t:n[t].radial_min*Math.PI,r:0===r?30:i[r-1].radius},l={t:n[t].radial_max*Math.PI,r:i[r].radius},s={x:15*n[t].factor_x,y:15*n[t].factor_y},u={x:i[3].radius*n[t].factor_x,y:i[3].radius*n[t].factor_y};return{clipx:function(t){var r=f(d(p(t,s,u)),o.r+15,l.r-15);return t.x=c(r).x,t.x},clipy:function(t){var r=f(d(p(t,s,u)),o.r+15,l.r-15);return t.y=c(r).y,t.y},random:function(){return c({t:(t=o.t,r=l.t,t+e()*(r-t)),r:a(o.r,l.r)});var t,r}}}for(var x=0;x<t.entries.length;x++){(_=t.entries[x]).segment=y(_.quadrant,_.ring);var h=_.segment.random();_.x=h.x,_.y=h.y,_.color=_.active||t.print_layout?t.rings[_.ring].color:t.colors.inactive}for(var m=new Array(4),g=0;g<4;g++){m[g]=new Array(4);for(var v=0;v<4;v++)m[g][v]=[]}for(x=0;x<t.entries.length;x++){var _=t.entries[x];m[_.quadrant][_.ring].push(_)}var b=1;for(var g of[2,3,1,0])for(v=0;v<4;v++){var w=m[g][v];w.sort((function(t,r){return t.label.localeCompare(r.label)}));for(x=0;x<w.length;x++)w[x].id=""+b++}function M(t,r){return"translate("+t+","+r+")"}var k=d3.select("svg#"+t.svg_id).style("background-color",t.colors.background).attr("width",t.width).attr("height",t.height),z=k.append("g");"zoomed_quadrant"in t?k.attr("viewBox",function(t){return[Math.max(0,400*n[t].factor_x)-420,Math.max(0,400*n[t].factor_y)-420,440,440].join(" ")}(t.zoomed_quadrant)):z.attr("transform",M(t.width/2,t.height/2));var A=z.append("g");A.append("line").attr("x1",0).attr("y1",-400).attr("x2",0).attr("y2",400).style("stroke",t.colors.grid).style("stroke-width",1),A.append("line").attr("x1",-400).attr("y1",0).attr("x2",400).attr("y2",0).style("stroke",t.colors.grid).style("stroke-width",1);var E=A.append("defs").append("filter").attr("x",0).attr("y",0).attr("width",1).attr("height",1).attr("id","solid");E.append("feFlood").attr("flood-color","#676A6E"),E.append("feComposite").attr("in","SourceGraphic");for(x=0;x<i.length;x++)A.append("circle").attr("cx",0).attr("cy",0).attr("r",i[x].radius).style("fill","none").style("stroke",t.colors.grid).style("stroke-width",1),t.print_layout&&A.append("text").text(t.rings[x].name).attr("y",62-i[x].radius).attr("text-anchor","middle").style("fill","#CECFD2").style("font-size","42px").style("opacity","0.5").style("font-weight","700").style("pointer-events","none").style("user-select","none");function q(t,r,e=null){var a=r<2?0:120,n=null==e?-16:16*e;return r%2==1&&(n=n+48+12*m[t][r-1].length),M(s[t].x+a,s[t].y+n)}if(t.print_layout){z.append("text").attr("transform",M(o,l)).text("▲ moved up     ▼ moved down").attr("xml:space","preserve").style("font-size","12px");var I=z.append("g");for(g=0;g<4;g++){I.append("text").attr("transform",M(s[g].x,s[g].y-45)).text(t.quadrants[g].name).style("font-size","18px");for(v=0;v<4;v++)I.append("text").attr("transform",q(g,v)).text(t.rings[v].name).style("font-size","14px").style("font-weight","700"),I.selectAll(".legend"+g+v).data(m[g][v]).enter().append("a").attr("href",(function(t,r){return t.link?t.link:"#"})).append("text").attr("transform",(function(t,r){return q(g,v,r)})).attr("class","legend"+g+v).attr("id",(function(t,r){return"legendItem"+t.id})).text((function(t,r){return t.id+". "+t.label})).style("font-size","14px").on("mouseover",(function(t){F(t),D(t)})).on("mouseout",(function(t){P(t),S(t)}))}}var C=z.append("g").attr("id","rink"),B=z.append("g").attr("id","bubble").attr("x",0).attr("y",0).style("opacity",0).style("pointer-events","none").style("user-select","none");function F(r){if(r.active||t.print_layout){var e=d3.select("#bubble text").text(r.label).node().getBBox();d3.select("#bubble").attr("transform",M(r.x-e.width/2,r.y-16)).style("opacity",.8),d3.select("#bubble rect").attr("x",-5).attr("y",-e.height).attr("width",e.width+10).attr("height",e.height+4),d3.select("#bubble path").attr("transform",M(e.width/2-5,3))}}function P(t){d3.select("#bubble").attr("transform",M(0,0)).style("opacity",0)}function D(t){var r=document.getElementById("legendItem"+t.id);r.setAttribute("filter","url(#solid)"),r.setAttribute("fill","#F0EEEA")}function S(t){var r=document.getElementById("legendItem"+t.id);r.removeAttribute("filter"),r.removeAttribute("fill")}B.append("rect").attr("rx",4).attr("ry",4).style("fill","#676A6E"),B.append("text").style("font-size","10px").style("fill","#F0EEEA"),B.append("path").attr("d","M 0,0 10,0 5,8 z").style("fill","#676A6E");var j=C.selectAll(".blip").data(t.entries).enter().append("g").attr("class","blip").attr("transform",(function(t,r){return q(t.quadrant,t.ring,r)})).on("mouseover",(function(t){F(t),D(t)})).on("mouseout",(function(t){P(),S(t)}));j.each((function(r){var e=d3.select(this);if(!t.print_layout&&r.active&&r.hasOwnProperty("link")&&(e=e.append("a").attr("xlink:href",r.link)),r.moved>0?e.append("path").attr("d","M -11,5 11,5 0,-13 z").style("fill",r.color):r.moved<0?e.append("path").attr("d","M -11,-5 11,-5 0,13 z").style("fill",r.color):e.append("circle").attr("r",9).attr("fill",r.color),r.active||t.print_layout){var a=t.print_layout?r.id:r.label.match(/[a-z]/i);e.append("text").text(a).attr("y",3).attr("text-anchor","middle").style("fill",t.rings[r.ring].textColor).style("font-size",(function(t){return a.length>2?"9px":"11px"})).style("pointer-events","none").style("user-select","none")}})),d3.forceSimulation().nodes(t.entries).velocityDecay(.19).force("collision",d3.forceCollide().radius(12).strength(.85)).on("tick",(function(){j.attr("transform",(function(t){return M(t.segment.clipx(t),t.segment.clipy(t))}))}))}
//# sourceMappingURL=index.6dc4286a.js.map
